<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.estore.dao.IMemberInfoDao">
	
    <resultMap id="memberInfoMap" type="memberInfo">
    	<id property="id" column="member_id" javaType="Integer" jdbcType="INTEGER"/>
    	<result property="mobilePhone" column="mobile_phone" javaType="String" jdbcType="VARCHAR"></result>
    	<result property="telephone" column="telephone" javaType="String" jdbcType="VARCHAR"></result>
    	<result property="email" column="email" javaType="String" jdbcType="VARCHAR"></result>
    	<!-- <result property="photo" column="photo" javaType="java.sql.Blob;" jdbcType="BLOB"></result> -->
    	<result property="photoPath"  column="photoPath" javaType="String" jdbcType="VARCHAR" /> 
    	<result property="sex" column="sex" javaType="Integer" jdbcType="INTEGER"></result>
    	<result property="birthday" column="birthday" javaType="Date" jdbcType="TIMESTAMP"></result>
    	<result property="location" column="location" javaType="String" jdbcType="VARCHAR"></result>
    	<result property="memo" column="memo" javaType="String" jdbcType="VARCHAR"></result>
    	<!-- 关联到会员表 -->
<!--     	<association property="member" column="member_id" javaType="com.estore.entities.Member" select="com.estore.dao.IMemberDao.getMemberById" />
 -->    	
    </resultMap>
    <!-- 根据id 获取会员信息表 -->
    <select id="getMemberInfoById" resultMap="memberInfoMap" parameterType="Integer">
    	select *from t_member_info where id=#{id}
    </select>
    <insert id="memberRegister" parameterType="memberInfo">
    	insert into t_member_info values(#{id},#{mobilePhone},#{telephone},
    	#{email},#{photoPath},#{sex},#{birthday},#{location},#{memo})
    </insert>
   
</mapper>  
